<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>用webpack构建一个vue项目 | webpack从入门到精通</title>
    <meta name="description" content="讲解webpack相关知识点">
    
    
    <link rel="preload" href="/webpack-docs/assets/css/0.styles.d386d2e7.css" as="style"><link rel="preload" href="/webpack-docs/assets/js/app.aca2803f.js" as="script"><link rel="preload" href="/webpack-docs/assets/js/10.badb5ac2.js" as="script"><link rel="prefetch" href="/webpack-docs/assets/js/11.b66f8d28.js"><link rel="prefetch" href="/webpack-docs/assets/js/12.1d9b45c9.js"><link rel="prefetch" href="/webpack-docs/assets/js/13.caa9d9f6.js"><link rel="prefetch" href="/webpack-docs/assets/js/14.0ccd2cf5.js"><link rel="prefetch" href="/webpack-docs/assets/js/15.50832eec.js"><link rel="prefetch" href="/webpack-docs/assets/js/16.3e0d0619.js"><link rel="prefetch" href="/webpack-docs/assets/js/17.f1ed90b1.js"><link rel="prefetch" href="/webpack-docs/assets/js/18.add20acc.js"><link rel="prefetch" href="/webpack-docs/assets/js/19.37824718.js"><link rel="prefetch" href="/webpack-docs/assets/js/2.4d5841c8.js"><link rel="prefetch" href="/webpack-docs/assets/js/20.cc9a5cbb.js"><link rel="prefetch" href="/webpack-docs/assets/js/21.24f11d93.js"><link rel="prefetch" href="/webpack-docs/assets/js/22.e2970bdd.js"><link rel="prefetch" href="/webpack-docs/assets/js/23.672d8e5c.js"><link rel="prefetch" href="/webpack-docs/assets/js/3.7fb57e9c.js"><link rel="prefetch" href="/webpack-docs/assets/js/4.9dfeaf02.js"><link rel="prefetch" href="/webpack-docs/assets/js/5.8ea0d1b0.js"><link rel="prefetch" href="/webpack-docs/assets/js/6.3ca59bf8.js"><link rel="prefetch" href="/webpack-docs/assets/js/7.feaaa69d.js"><link rel="prefetch" href="/webpack-docs/assets/js/8.f03cdd3d.js"><link rel="prefetch" href="/webpack-docs/assets/js/9.630215ae.js">
    <link rel="stylesheet" href="/webpack-docs/assets/css/0.styles.d386d2e7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/webpack-docs/" class="home-link router-link-active"><!----> <span class="site-name">webpack从入门到精通</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/webpack-docs/" class="nav-link">主页</a></div><div class="nav-item"><a href="/webpack-docs/page/" class="nav-link router-link-active">知识库</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">github</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Michael-lzg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://juejin.im/user/5b52fd38f265da0f4c6fbd72/posts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/webpack-docs/" class="nav-link">主页</a></div><div class="nav-item"><a href="/webpack-docs/page/" class="nav-link router-link-active">知识库</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">github</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Michael-lzg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://juejin.im/user/5b52fd38f265da0f4c6fbd72/posts" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>webpack前世今生</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/webpack-docs/page/fonted/前端模块化.html" class="sidebar-link">前端模块化</a></li><li><a href="/webpack-docs/page/fonted/glup.html" class="sidebar-link">webpack 与 glup</a></li><li><a href="/webpack-docs/page/fonted/webpack4.0.html" class="sidebar-link">webpack 4.0</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>webpack基础篇</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/webpack-docs/page/base/entry.html" class="sidebar-link">entry和output</a></li><li><a href="/webpack-docs/page/base/loader.html" class="sidebar-link">Loader</a></li><li><a href="/webpack-docs/page/base/plugin.html" class="sidebar-link">Plugin</a></li><li><a href="/webpack-docs/page/base/webpack-dev-derver.html" class="sidebar-link">webpack-dev-derver</a></li><li><a href="/webpack-docs/page/base/sourcemap.html" class="sidebar-link">sourceMap</a></li><li><a href="/webpack-docs/page/base/externals.html" class="sidebar-link">externals</a></li><li><a href="/webpack-docs/page/base/optimization.html" class="sidebar-link">optimization</a></li><li><a href="/webpack-docs/page/base/babel.html" class="sidebar-link">babel 指南</a></li><li><a href="/webpack-docs/page/base/hash.html" class="sidebar-link">文件 hash</a></li><li><a href="/webpack-docs/page/base/知识问答.html" class="sidebar-link">webpack 知识问答</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>webpack深入篇</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/webpack-docs/page/advanced/从零构建一个wbpack项目.html" class="sidebar-link">从零构建一个wbpack项目</a></li><li><a href="/webpack-docs/page/advanced/用webpack构建一个vue项目.html" class="active sidebar-link">用webpack构建一个vue项目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webpack-docs/page/advanced/用webpack构建一个vue项目.html#搭建-webpack-项目框架" class="sidebar-link">搭建 webpack 项目框架</a></li><li class="sidebar-sub-header"><a href="/webpack-docs/page/advanced/用webpack构建一个vue项目.html#搭建-vue-模块化开发环境" class="sidebar-link">搭建 vue 模块化开发环境</a></li><li class="sidebar-sub-header"><a href="/webpack-docs/page/advanced/用webpack构建一个vue项目.html#webpack-优化打包" class="sidebar-link">webpack 优化打包</a></li></ul></li><li><a href="/webpack-docs/page/advanced/移动端开发模板.html" class="sidebar-link">vue-cli4+vant 开发模板</a></li><li><a href="/webpack-docs/page/advanced/webpack优化打包大全.html" class="sidebar-link">webpack优化打包大全</a></li><li><a href="/webpack-docs/page/advanced/webpack-chain.html" class="sidebar-link">webpack-chain</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="用webpack构建一个vue项目"><a href="#用webpack构建一个vue项目" aria-hidden="true" class="header-anchor">#</a> 用webpack构建一个vue项目</h1> <p>在这里，我们要做的事情包括</p> <ul><li>搭建 webpack 项目框架</li> <li>搭建 vue 模块化开发环境</li> <li>webpack 优化打包</li></ul> <p>你需要理解的基本知识</p> <ul><li>html，css，javascript</li> <li>ES6 语法</li> <li>webpack 核心属性</li> <li>vue，vue-router</li> <li>前端模块化</li></ul> <p>废话不多说，老司机带你马上上路。</p> <h2 id="搭建-webpack-项目框架"><a href="#搭建-webpack-项目框架" aria-hidden="true" class="header-anchor">#</a> 搭建 webpack 项目框架</h2> <h3 id="构建项目结构"><a href="#构建项目结构" aria-hidden="true" class="header-anchor">#</a> 构建项目结构</h3> <ol><li><p>创建 webpack-vue-cli 文件夹，npm-init-y 初始化项目</p></li> <li><p>安装 webpack 相关依赖</p></li></ol> <div class="language- extra-class"><pre class="language-text"><code>npm i webpack webpack-cli webpack-dev-server webpack-merge --save-dev
</code></pre></div><p>如果 webpack 和 webpack-cli 没有全局安装的话，要先全局安装</p> <ol start="3"><li>建立项目文件夹</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>├── src   <span class="token comment">// webpack配置文件</span>
    <span class="token operator">|</span>——main<span class="token punctuation">.</span>js  <span class="token comment">// 入口文件</span>
├── <span class="token keyword">static</span>   <span class="token comment">// 项目打包路径</span>
├── index<span class="token punctuation">.</span>html   <span class="token comment">// 模板html</span>
├── webpack<span class="token punctuation">.</span>base<span class="token punctuation">.</span>js   <span class="token comment">// 打包基本配置</span>
├── webpack<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>js   <span class="token comment">// 本地环境配置</span>
├── webpack<span class="token punctuation">.</span>prod<span class="token punctuation">.</span>js   <span class="token comment">// 生产环境配置</span>
</code></pre></div><p>index.html 和 main.js 的代码不多说，直接进入 webpack 配置环节。</p> <h3 id="webpack-基本配置"><a href="#webpack-基本配置" aria-hidden="true" class="header-anchor">#</a> webpack 基本配置</h3> <p>为了更好的优化打包，我们将 webpack 的配置分开本地环境和生产环境。</p> <ul><li>webpack.base.js 公共配置文件</li> <li>webpack.dev.js 开发环境的配置文件</li> <li>webpack.prod.js 生产环境的配置文件</li></ul> <p>在 webpack.dev.js 和 webpack.prod.js，我们可以利用 webpack-merge 进行配置的合并。</p> <p>然后，我们在 package.json 定义不同环境的打包命令</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;scripts&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;dev&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;webpack-dev-server  --config webpack.dev.js --mode development&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;build&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;webpack --config webpack.prod.js&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="公共配置"><a href="#公共配置" aria-hidden="true" class="header-anchor">#</a> 公共配置</h4> <p>我们先来看一下 webpack.base.js 的公共配置，定义好入口文件和出口文件</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    index<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'/src/main.js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'/dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//打包后的文件存放的地方</span>
    filename<span class="token punctuation">:</span> <span class="token string">'js/[name].[hash].js'</span><span class="token punctuation">,</span> <span class="token comment">// 每次保存 hash 都变化</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="webpack-dev-server"><a href="#webpack-dev-server" aria-hidden="true" class="header-anchor">#</a> webpack-dev-server</h4> <p>webpack 提供了一个可选的本地开发服务器，这个本地服务器基于 node.js 构建，所以在 webpack.dev.js 进行配置</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-merge'</span><span class="token punctuation">)</span> <span class="token comment">// 引入webpack-merge功能模块</span>
<span class="token keyword">const</span> common <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./webpack.base.js'</span><span class="token punctuation">)</span> <span class="token comment">// 引入webpack.common.js</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>common<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// 将webpack.common.js合并到当前文件</span>
  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    contentBase<span class="token punctuation">:</span> <span class="token string">'./dist'</span><span class="token punctuation">,</span> <span class="token comment">// 本地服务器所加载文件的目录</span>
    port<span class="token punctuation">:</span> <span class="token string">'8899'</span><span class="token punctuation">,</span> <span class="token comment">// 设置端口号为8088</span>
    inline<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 文件修改后实时刷新</span>
    historyApiFallback<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//不跳转</span>
    hot<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 热更新</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  mode<span class="token punctuation">:</span> <span class="token string">'development'</span><span class="token punctuation">,</span> <span class="token comment">// 设置mode</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="htmlwebpackplugin"><a href="#htmlwebpackplugin" aria-hidden="true" class="header-anchor">#</a> HtmlWebpackPlugin</h4> <p>HtmlWebpackPlugin 简化了 HTML 文件的创建，它可以根据 html 模板在打包后自动为你生产打包后的 html 文件。这对于在文件名中包含每次会随着编译而发生变化哈希的 webpack bundle 尤其有用。</p> <div class="language-js extra-class"><pre class="language-js"><code>plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    template<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'/index.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// new一个这个插件的实例，并传入相关的参数</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><p>至此就搭建好一个乞丐版的 webpack 项目了。</p> <h3 id="loader-配置"><a href="#loader-配置" aria-hidden="true" class="header-anchor">#</a> loader 配置</h3> <p>loader 可以让 webpack 能够去处理那些非 javaScript 文件（webpack 自身只理解 javaScript）。loader 可以将所有类型的文件转换为 webpack 能够处理的有效模块，然后你就可以利用 webpack 的打包能力，对它们进行处理。</p> <p>对于 loader 的科普和配置，在这里不做一一说明，直接奉上代码，分别是处理样式，js 和文件的 loader。</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span> <span class="token comment">// 正则匹配以.css结尾的文件</span>
      use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      test<span class="token punctuation">:</span> <span class="token regex">/\.less$/</span><span class="token punctuation">,</span>
      use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'less-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      test<span class="token punctuation">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
      loader<span class="token punctuation">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
      include<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      test<span class="token punctuation">:</span> <span class="token regex">/\.(png|jpe?g|gif|svg)(\?.*)?$/</span><span class="token punctuation">,</span>
      loader<span class="token punctuation">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
      options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        limit<span class="token punctuation">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
        name<span class="token punctuation">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">'img/[name].[hash:7].[ext]'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>为了更方便的配置和优化 babel-loader，我们可以将其提取出来，在根目录下新建.babelrc 文件</p> <div class="language- extra-class"><pre class="language-text"><code>{
  &quot;presets&quot;: [&quot;env&quot;]
}
</code></pre></div><h3 id="其他插件配置"><a href="#其他插件配置" aria-hidden="true" class="header-anchor">#</a> 其他插件配置</h3> <h4 id="cleanwebpackplugin"><a href="#cleanwebpackplugin" aria-hidden="true" class="header-anchor">#</a> CleanWebpackPlugin</h4> <p>在每次构建前清理/dist 文件夹，生产最新的打包文件，这时候就用到 CleanWebpackPlugin 插件了。</p> <div class="language-js extra-class"><pre class="language-js"><code>plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    template<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'/index.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// new一个这个插件的实例，并传入相关的参数</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 所要清理的文件夹名称</span>
<span class="token punctuation">]</span>
</code></pre></div><h4 id="hotmodulereplacementplugin"><a href="#hotmodulereplacementplugin" aria-hidden="true" class="header-anchor">#</a> HotModuleReplacementPlugin</h4> <p>HotModuleReplacementPlugin（HMR）是一个很实用的插件，可以在我们修改代码后自动刷新预览效果，在开发环境使用。</p> <ol><li><p>devServer 配置项中设置 hot: true</p></li> <li><p>HotModuleReplacementPlugin 是 webpack 模块自带的，所以引入 webpack 后，在 plugins 配置项中直接使用即可。</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code>plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 热更新插件</span>
<span class="token punctuation">]</span>
</code></pre></div><h4 id="增加-css-前缀"><a href="#增加-css-前缀" aria-hidden="true" class="header-anchor">#</a> 增加 css 前缀</h4> <p>平时我们写 css 时，一些属性需要手动加上前缀，比如-webkit-border-radius: 10px;，在 webpack 中我们可以让他自动加上</p> <ol><li>安装 npm i postcss-loader autoprefixer -D</li> <li>在项目根目录下新建 postcss.config.js 文件</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'autoprefixer'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 引用autoprefixer模块</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>修改样式 loader</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span> <span class="token comment">// 正则匹配以.css结尾的文件</span>
    use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'postcss-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    test<span class="token punctuation">:</span> <span class="token regex">/\.less$/</span><span class="token punctuation">,</span>
    use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token string">'postcss-loader'</span><span class="token punctuation">,</span> <span class="token string">'less-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre></div><h2 id="搭建-vue-模块化开发环境"><a href="#搭建-vue-模块化开发环境" aria-hidden="true" class="header-anchor">#</a> 搭建 vue 模块化开发环境</h2> <h4 id="引入-vue-模块化"><a href="#引入-vue-模块化" aria-hidden="true" class="header-anchor">#</a> 引入 vue 模块化</h4> <p>1、搭建一个类似于 vue-cli 的脚手架，首先我们来依葫芦画瓢，在 main.js 写上一下代码</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>2、然后在 src 文件夹下新建 APP.vue</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>app.vue根组件<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>3、安装相关依赖</p> <p>到这里，我们 npm run dev 试一下就报错了。因为我们没有安装相关依赖，下面我们下来安装一下依赖</p> <div class="language- extra-class"><pre class="language-text"><code>npm install vue vue-loader vue-template-compiler -D
</code></pre></div><ul><li>vue: vue 的源码</li> <li>vue-loader：解析.vue 文件</li> <li>vue-template-compiler： 编译 vue</li></ul> <p>4、在 webpack 配置 vue-loader</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> VueLoaderPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vue-loader/lib/plugin'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.vue$/</span><span class="token punctuation">,</span>
        loader<span class="token punctuation">:</span> <span class="token string">'vue-loader'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="vue-router"><a href="#vue-router" aria-hidden="true" class="header-anchor">#</a> vue-router</h4> <p>1、安装依赖</p> <div class="language- extra-class"><pre class="language-text"><code>npm install vue-router -D
</code></pre></div><p>2、在 src 文件夹下新建 router/index</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../views/Home.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'/admin'</span><span class="token punctuation">,</span>
      <span class="token function-variable function">component</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'../views/admin.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre></div><p>3、在 main.js 引用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  router<span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>就这样，一个类似于 vue-cli 的脚手架就搭建好了。</p> <h2 id="webpack-优化打包"><a href="#webpack-优化打包" aria-hidden="true" class="header-anchor">#</a> webpack 优化打包</h2> <h4 id="分离-css"><a href="#分离-css" aria-hidden="true" class="header-anchor">#</a> 分离 css</h4> <p>虽然 webpack 的理念是把 css、js 全都打包到一个文件里，但要是我们想把 css 分离出来，这里我们用到 mini-css-extract-plugin，在生产环境使用。</p> <p>1、安装依赖</p> <div class="language- extra-class"><pre class="language-text"><code>npm install mini-css-extract-plugin -D
</code></pre></div><p>2、在 webpack 配置 loader 和 plugin</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      test<span class="token punctuation">:</span> <span class="token regex">/\.(le|c)ss$/</span><span class="token punctuation">,</span>
      use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          loader<span class="token punctuation">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
          options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            publicPath<span class="token punctuation">:</span> <span class="token string">'../'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">'css-loader'</span><span class="token punctuation">,</span>
        <span class="token string">'postcss-loader'</span><span class="token punctuation">,</span>
        <span class="token string">'less-loader'</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">&quot;css/[name].[contenthash:8].css&quot;</span><span class="token punctuation">,</span>
    chunkFilename<span class="token punctuation">:</span> <span class="token string">'css/[id].[contenthash:8].css'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre></div><p>分离 css 需要将 css loader 中的 style-loader 替换为 MiniCssExtractPlugin</p> <h4 id="消除冗余-css"><a href="#消除冗余-css" aria-hidden="true" class="header-anchor">#</a> 消除冗余 css</h4> <p>有时候我们 css 写得多了或者重复了，这就造成了多余的代码，我们希望在生产环境进行去除。</p> <p>1、安装依赖</p> <div class="language- extra-class"><pre class="language-text"><code>npm i purifycss-webpack purify-css glob -D
</code></pre></div><p>2、webpack.prod.js 配置</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> PurifyCssWebpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'purifycss-webpack'</span><span class="token punctuation">)</span> <span class="token comment">// 引入PurifyCssWebpack插件</span>
<span class="token keyword">const</span> glob <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'glob'</span><span class="token punctuation">)</span> <span class="token comment">// 引入glob模块,用于扫描全部html文件中所引用的css</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>common<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">PurifyCssWebpack</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      paths<span class="token punctuation">:</span> glob<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/*.html'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="压缩-css"><a href="#压缩-css" aria-hidden="true" class="header-anchor">#</a> 压缩 css</h4> <p>我们希望减小 css 打包后的体积，可以用到 optimize-css-assets-webpack-plugin。
1、安装依赖</p> <div class="language- extra-class"><pre class="language-text"><code>npm install optimize-css-assets-webpack-plugin -D
</code></pre></div><p>2、webpack.prod.js 配置</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> OptimizeCSSAssetsPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;optimize-css-assets-webpack-plugin&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 压缩css代码</span>

optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  minimizer<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 压缩css</span>
    <span class="token keyword">new</span> <span class="token class-name">OptimizeCSSAssetsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
</code></pre></div><h4 id="压缩-js"><a href="#压缩-js" aria-hidden="true" class="header-anchor">#</a> 压缩 js</h4> <p>Webpack4.0 默认是使用 terser-webpack-plugin 这个压缩插件，在此之前是使用 uglifyjs-webpack-plugin，两者的区别是后者对 ES6 的压缩不是很好，同时我们可以开启 parallel 参数，使用多进程压缩，加快压缩。</p> <p>1、安装依赖</p> <div class="language- extra-class"><pre class="language-text"><code>npm install terser-webpack-plugin -D
</code></pre></div><p>2、webpack.prod.js 配置</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> TerserPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'terser-webpack-plugin'</span><span class="token punctuation">)</span> <span class="token comment">// 压缩js代码</span>

optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  minimizer<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      parallel<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token comment">// 开启几个进程来处理压缩，默认是 os.cpus().length - 1</span>
      cache<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否缓存</span>
      sourceMap<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// 压缩css</span>
    <span class="token keyword">new</span> <span class="token class-name">OptimizeCSSAssetsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="提取公共代码"><a href="#提取公共代码" aria-hidden="true" class="header-anchor">#</a> 提取公共代码</h4> <p>在用 webpack 打包的时候，对于一些不经常更新的第三方库，比如 vue 全家桶的一些东西， 我们希望能和自己的代码分离开。webpack4 使用 splitChunks 的方法进行配置。</p> <div class="language-js extra-class"><pre class="language-js"><code>optimization<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// 分离chunks</span>
  splitChunks<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    chunks<span class="token punctuation">:</span> <span class="token string">'all'</span><span class="token punctuation">,</span>
    cacheGroups<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      vendor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        name<span class="token punctuation">:</span> <span class="token string">&quot;vendor&quot;</span><span class="token punctuation">,</span>
        test<span class="token punctuation">:</span> <span class="token regex">/[\\/]node_modules[\\/]/</span><span class="token punctuation">,</span>
        priority<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
        chunks<span class="token punctuation">:</span> <span class="token string">&quot;initial&quot;</span> <span class="token comment">// 只打包初始时依赖的第三方</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="图片压缩"><a href="#图片压缩" aria-hidden="true" class="header-anchor">#</a> 图片压缩</h4> <p>在项目中有些图片太大影响加载，我们用 image-webpack-loader 进行压缩。</p> <p>1、安装依赖</p> <div class="language- extra-class"><pre class="language-text"><code>npm install image-webpack-loader -D
</code></pre></div><p>2、配置 loader</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  test<span class="token punctuation">:</span> <span class="token regex">/\.(png|jpg|svg|gif)$/</span><span class="token punctuation">,</span>
  use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      loader<span class="token punctuation">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
      options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        esModule<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        limit<span class="token punctuation">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>  <span class="token comment">// 限制只有小于1kb的图片才转为base64，例子图片为1.47kb,所以不会被转化</span>
        outputPath<span class="token punctuation">:</span> <span class="token string">'images'</span><span class="token punctuation">,</span> <span class="token comment">// 设置打包后图片存放的文件夹名称</span>
        name<span class="token punctuation">:</span> <span class="token string">'[name][hash:8].[ext]'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      loader<span class="token punctuation">:</span> <span class="token string">'image-webpack-loader'</span><span class="token punctuation">,</span>
      options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 压缩 jpeg 的配置</span>
        mozjpeg<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          progressive<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          quality<span class="token punctuation">:</span> <span class="token number">65</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 使用 imagemin**-optipng 压缩 png，enable: false 为关闭</span>
        optipng<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          enabled<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// // 使用 imagemin-pngquant 压缩 png</span>
        pngquant<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          quality<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">0.65</span><span class="token punctuation">,</span> <span class="token number">0.90</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          speed<span class="token punctuation">:</span> <span class="token number">4</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 压缩 gif 的配置</span>
        gifsicle<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          interlaced<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 开启 webp，会把 jpg 和 png 图片压缩为 webp 格式</span>
        webp<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          quality<span class="token punctuation">:</span> <span class="token number">75</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/webpack-docs/assets/js/app.aca2803f.js" defer></script><script src="/webpack-docs/assets/js/10.badb5ac2.js" defer></script>
  </body>
</html>
